'use client';

import React, { useState } from 'react';

interface ThumbsDownIconProps {
  width?: number;
  height?: number;
  className?: string;
  onClick?: () => void;
  isFilled?: boolean;
  onToggle?: (isFilled: boolean) => void;
}

const ThumbsDownIcon: React.FC<ThumbsDownIconProps> = ({
  width = 20,
  height = 20,
  className = '',
  onClick,
  isFilled: controlledIsFilled,
  onToggle,
}) => {
  const [internalIsFilled, setInternalIsFilled] = useState(false);

  // Use controlled state if provided, otherwise use internal state
  const isFilled =
    controlledIsFilled !== undefined ? controlledIsFilled : internalIsFilled;

  const handleClick = () => {
    if (onToggle) {
      onToggle(!isFilled);
    } else if (controlledIsFilled === undefined) {
      // Only update internal state if not controlled
      setInternalIsFilled(!isFilled);
    }

    if (onClick) {
      onClick();
    }
  };

  return (
    <svg
      width={width}
      height={height}
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      onClick={handleClick}
      style={{ cursor: 'pointer' }}
    >
      {isFilled ? (
        // Filled state (ThumbsDown filled version)
        <path
          d="M18.7415 10.5166C18.6831 10.6333 18.6081 10.7333 18.5248 10.8333C17.8331 11.7 16.6581 11.7 14.3165 11.7H13.9831C13.6165 11.7 13.2415 11.7 13.1581 11.7333C13.1165 11.7583 13.0831 11.8 13.0748 11.825C13.0748 11.9167 13.1748 12.2583 13.2748 12.5833L13.4998 13.3C13.5665 13.5083 13.5998 13.6167 13.6165 13.7083C13.8581 14.6917 13.6998 15.7167 13.1748 16.5917C13.1248 16.6833 13.0581 16.7667 12.9331 16.95C12.8415 17.0917 12.7915 17.1583 12.7498 17.2C12.2165 17.8083 11.2831 17.8667 10.6665 17.3333C10.6165 17.2917 10.5581 17.2333 10.4498 17.1083L7.04147 13.325C6.1998 12.3917 5.73314 11.875 5.47481 11.2083C5.45814 11.1583 5.44147 11.1 5.41647 11.05C4.86647 11.55 4.14147 11.8583 3.34147 11.8583C2.0748 11.8583 1.0498 10.8333 1.0498 9.56667V4.56667C1.0498 3.3 2.0748 2.275 3.34147 2.275C4.36647 2.275 5.26647 2.775 5.83314 3.53333C5.9248 3.4 6.0248 3.28333 6.14147 3.16667C7.06647 2.275 8.34147 2.275 10.8915 2.275H11.3165C13.3915 2.275 14.4331 2.275 15.3748 2.81667C15.4665 2.86667 15.5581 2.925 15.6415 2.98333C16.5331 3.59167 16.9665 4.525 17.8248 6.375C18.7998 8.46667 19.2831 9.51667 18.7415 10.5V10.5166ZM5.20814 5.41667C5.20814 4.38333 4.36647 3.54167 3.33314 3.54167C2.75814 3.54167 2.29147 4.00833 2.29147 4.58333V9.58333C2.29147 10.1583 2.75814 10.625 3.33314 10.625C4.36647 10.625 5.20814 9.78333 5.20814 8.75V5.41667Z"
          fill="#454547"
        />
      ) : (
        // Outline state (original ThumbsDown.tsx)
        <>
          <path
            d="M1.66675 9.58341C1.66675 10.5001 2.41675 11.2501 3.33341 11.2501C4.71675 11.2501 5.83341 10.1334 5.83341 8.75008V5.41675C5.83341 4.03341 4.71675 2.91675 3.33341 2.91675C2.41675 2.91675 1.66675 3.66675 1.66675 4.58341V9.58341Z"
            stroke="#454547"
            strokeWidth="1.25"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.9002 13.4916L12.6752 12.7749C12.4919 12.1916 12.4002 11.8916 12.4752 11.6582C12.5336 11.4666 12.6586 11.3082 12.8252 11.1999C13.0336 11.0666 13.3502 11.0666 13.9836 11.0666H14.3169C16.4586 11.0666 17.5336 11.0666 18.0336 10.4332C18.0919 10.3582 18.1419 10.2832 18.1836 10.1999C18.5752 9.49157 18.1336 8.54157 17.2419 6.63324C16.4336 4.88324 16.0252 4.00824 15.2669 3.4999C15.1919 3.4499 15.1169 3.3999 15.0419 3.35824C14.2502 2.8999 13.2669 2.8999 11.3002 2.8999H10.8752C8.49189 2.8999 7.30023 2.8999 6.55856 3.61657C5.81689 4.33324 5.81689 5.49157 5.81689 7.7999V8.60824C5.81689 9.8249 5.81689 10.4249 6.03356 10.9832C6.25023 11.5416 6.65856 11.9916 7.48356 12.9082L10.8919 16.6832C10.9752 16.7749 11.0169 16.8249 11.0586 16.8582C11.4086 17.1666 11.9502 17.1332 12.2586 16.7832C12.2919 16.7499 12.3252 16.6916 12.4002 16.5916C12.5169 16.4249 12.5669 16.3499 12.6169 16.2666C13.0586 15.5416 13.1919 14.6749 12.9919 13.8582C12.9669 13.7666 12.9419 13.6749 12.8836 13.4832L12.9002 13.4916Z"
            stroke="#454547"
            strokeWidth="1.25"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </>
      )}
    </svg>
  );
};

export default ThumbsDownIcon;
